@import "bootstrap.less";

/* =Typography
-----------------------------------------------------------------------------*/

/*
 * Work here to theme typography of common things.
 */
a { text-transform: uppercase; }
a:hover, a:active, a:focus { outline:0!important;  text-decoration:none; }


#home {

  /*
   * Work here to theme typography of “home” screen.
   */

  color: black!important;

  a{color: inherit;}

  h1 {
   font-stretch:condensed;
   .text-center;
   text-transform: uppercase;
  }


  ol { counter-reset: quiresite; }
  h2:before { content: counter(quiresite); display: block; font-size: @font-size-h1; font-stretch:normal; line-height: 42px;}
  h2 {counter-increment: quiresite; font-size: 15px; font-stretch:condensed; }
  li:last-of-type h2:before { content:""; }

}

#qui {

  /*
   * Work here to theme typography of “Qui? Résiste” screens.
   */
  a:hover, a:active, a:focus{color:white;}
  h2 {
   font-stretch:condensed;
   .text-center;
   text-transform: uppercase;
   font-size: @font-size-h1;
  }

}

#abc {

  /*
   * Work here to theme typography of “abécédaire” screen.
   */

}

/* =Layout
-----------------------------------------------------------------------------*/
@header-heigth:      auto;
@footer-heigth:      0px;
@outer-space:        ceil((@grid-gutter-width * 6));
@outer-border-width: ceil((@outer-space * 0.5));
@outer-border-color: rgba(255, 51, 0, 0.8);

html, body { position: relative; width: 100%; height: 100%; }

/*
 * Screen grid system. You do not want to change it.
 */
body {

  overflow-x: hidden; -webkit-overflow-scrolling: touch;

  > header, > footer { position: absolute!important; right: 0; left: 0; z-index: 1; overflow: hidden; }

  > header {
    width: 46%;
    top: 0; height: @header-heigth;
    h1 { margin-top: ceil((@outer-space - @outer-border-width)); margin-left: ceil((@outer-space - @outer-border-width)); }
    img { display: block; width:100%; height: auto; }
  }

  > section {

    position: relative;
    height: 100%;
    white-space: nowrap;
    overflow-y: hidden; -webkit-overflow-scrolling: touch;

    > article {

      display: inline-block;
      vertical-align: top;
      white-space: normal;
      position: relative; width: 100%; height: 100%;

      > .in {

        position: absolute;
        top: 0; right: 0; bottom: 0; left: 0;
        overflow: auto;
        margin: @outer-space @outer-space @outer-space @outer-space;
        border: @outer-border-width solid @outer-border-color;

        @media (max-width: @screen-xs-max) {
          margin: ceil((@outer-space * 0.5));
          border-width: ceil((@outer-border-width * 0.5));
        }



      }

    }

  }

  > section:first-of-type {
    > article > .in { margin-bottom: 0; border-bottom:0px transparent; overflow: visible; }
  }

  > section:nth-of-type(2) {
    > article > .in { margin-top: 0; border-top:0px transparent; overflow: visible; }
  }

  > section:nth-of-type(3) {
    > article > .in { border: 0px transparent; margin:0;
    }
  }

  > footer { bottom: 0; height: @footer-heigth;  }
}

#home {

  /*
   * Work here to theme “home” screen.
   */

  background: url('../images/background.jpg') center no-repeat fixed;
  background-size: cover;

  .container,
  .container-fluid {

    header {
      position:absolute;
      top: 77px;
      left: -13%;
      width: 58%;
    }

    nav {
      position:absolute;
      top: -15%;
      right: -10%;
      width: 55%;

      ol {
        padding: 0; margin-bottom: 0;
        list-style: none;
        li {
          margin-bottom: @grid-gutter-width;
          h2 {
            padding-left: 5px;
            padding-right: 5px;
            margin:0;
            .btn-default;
            height: 100px;
            width:110px;
          }

          &.col-sm-4:nth-child(3n+1) { clear: left; }
        }
      }

    }

  }
}

#qui {

  /*
   * Work here to theme “Qui? Résiste” screens.
   */

  .container,
  .container-fluid {

    header {
      position:absolute;
      top: 0;
      left: 0;
      width: 40%;
    }

    section {
      position:absolute;
      top: 5%;
      left: 50%;
      width: 40%;
    }

    aside {
      .sounds {
        position:absolute;
        bottom: -@outer-space;
        right: -@outer-space;
        background-color: orange;
      }
      .galleries {

        li { position:absolute; }
        li:first-of-type  {
          top: 50%;
          left: -@outer-space;
          .btn-primary;
          .button-left-side;

        }
        li:nth-of-type(2) {
          top: 50%;
          right: -@outer-space;
          .btn-primary;
          .rotate(-90deg);
        }
        li:nth-of-type(3) {
          bottom: -@outer-space;
          right: 50%;
          .btn-primary;
        }

        iframe { width: 100%; height: 600px; }

      }
    }

  }
}

#abc {

  /*
   * Work here to theme “abécédaire” screen.
   */

}

body.gallery,
body.abc {
  > header { display: none; }
}

body.gallery {
  /*
   * Work here to theme gallery page
   */

}

body.abc {
  /*
   * Work here to theme sound page
   */

}



/* =Bootstrap Upgrade
-----------------------------------------------------------------------------*/
@btn-shadow-width:   ceil((@font-size-base * 0.5));
@btn-shadow-x:       @btn-shadow-width;
@btn-shadow-y:       ceil((@btn-shadow-width * 0.75));

.btn-default,
.btn-primary {
  margin-right:  ceil((@btn-shadow-width));
  margin-bottom: ceil((@btn-shadow-width));
  border-style: solid;

  .active > &,
  &:hover,
  &:active {
    .translate(@btn-shadow-x,@btn-shadow-y);
    .box-shadow(0px 0px 0px 0px transparent);
  }
}

.btn-default {
  border-width: 3px;
  border-color:@btn-default-border;
  .box-shadow(@btn-shadow-x @btn-shadow-y 0px 0px @btn-default-border);
}

.btn-primary {
  border-width: 2px;
  border-color:@btn-primary-border;
  .box-shadow(@btn-shadow-x @btn-shadow-y 0px 0px @btn-primary-border);
  line-height: 0.3;

  .active > &,
  &:hover,
  &:active {
    color:@btn-primary-color!important;
  }
  .button-left-side{
    .box-shadow(@btn-shadow-x -@btn-shadow-y 0px 0px @btn-primary-border);
    .rotate(90deg);
      &:hover, &:active {
          .translate(@btn-shadow-x,@btn-shadow-y);
          .rotate(90deg);
          .box-shadow(0px 0px 0px 0px transparent);
        }
  }
}

.nav-pills {
  > li,
  > li.active {
    margin: 0 @grid-gutter-width @grid-gutter-width 0;
    > a,
    > a:hover,
    > a:focus { background-color: transparent; }
  }
}

.transform(@params) {
  -webkit-transform: @params;
      -ms-transform: @params; // IE9 only
       -o-transform: @params;
          transform: @params;
}


/* =Development
-----------------------------------------------------------------------------*/
body > section > article { box-shadow: 0px 0px 0px 1px #F0F inset; }
body > section > article > .in { box-shadow: 0px 0px 0px 1px #0FF inset; }


#dev  {
  display: none;
  font-size: 10px;
  position: fixed; bottom:@grid-gutter-width; width: 100%;
  @media (max-width: @screen-xs-max)                                 { #size:after { content:"Phones"; } }
  @media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) { #size:after { content:"Tablets"; } }
  @media (min-width: @screen-md-min) and (max-width: @screen-md-max) { #size:after { content:"Desktops"; } }
  @media (min-width: @screen-lg-min)                                 { #size:after { content:"Large Desktops"; } }
  @media (orientation: landscape)                                    { #size:before { content:"Landscape, "; } }
  @media (orientation: portrait)                                     { #size:before { content:"Portrait, ";  } }
  .row           { text-align: center; font-size: 10px; margin-bottom:0 !important; }
  .row > div     { background-color: rgba(0, 255, 255, 0.3); box-shadow: 0 0 0 1px #0FF; }
  .row > div > * { background-color: rgba(255, 255, 255, 0.7); overflow: hidden; min-height: 13px; }
}